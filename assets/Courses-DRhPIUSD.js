import{j as e,u as Oe,s as L}from"./index-Dd6yNnWg.js";import{R as M,r as k}from"./vendor-react-D1YLald2.js";import{l as W}from"./logger-BCmI0uCF.js";import{X as se,g as J,q as ae,F as me,P as ue,m as ie,G as he,r as De,i as pe,p as Te}from"./vendor-icons-BilFm2o-.js";import"./vendor-supabase-BZ0N5lZN.js";var Be=Object.defineProperty,ee=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable,xe=(d,o,l)=>o in d?Be(d,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[o]=l,ne=(d,o)=>{for(var l in o||(o={}))fe.call(o,l)&&xe(d,l,o[l]);if(ee)for(var l of ee(o))ge.call(o,l)&&xe(d,l,o[l]);return d},le=(d,o)=>{var l={};for(var h in d)fe.call(d,h)&&o.indexOf(h)<0&&(l[h]=d[h]);if(d!=null&&ee)for(var h of ee(d))o.indexOf(h)<0&&ge.call(d,h)&&(l[h]=d[h]);return l};var H;(d=>{const o=class y{constructor(t,s,r,i){if(this.version=t,this.errorCorrectionLevel=s,this.modules=[],this.isFunction=[],t<y.MIN_VERSION||t>y.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=t*4+17;let n=[];for(let c=0;c<this.size;c++)n.push(!1);for(let c=0;c<this.size;c++)this.modules.push(n.slice()),this.isFunction.push(n.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(r);if(this.drawCodewords(m),i==-1){let c=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const p=this.getPenaltyScore();p<c&&(i=b,c=p),this.applyMask(b)}}x(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}static encodeText(t,s){const r=d.QrSegment.makeSegments(t);return y.encodeSegments(r,s)}static encodeBinary(t,s){const r=d.QrSegment.makeBytes(t);return y.encodeSegments([r],s)}static encodeSegments(t,s,r=1,i=40,n=-1,m=!0){if(!(y.MIN_VERSION<=r&&r<=i&&i<=y.MAX_VERSION)||n<-1||n>7)throw new RangeError("Invalid value");let c,b;for(c=r;;c++){const g=y.getNumDataCodewords(c,s)*8,j=S.getTotalBits(t,c);if(j<=g){b=j;break}if(c>=i)throw new RangeError("Data too long")}for(const g of[y.Ecc.MEDIUM,y.Ecc.QUARTILE,y.Ecc.HIGH])m&&b<=y.getNumDataCodewords(c,g)*8&&(s=g);let p=[];for(const g of t){l(g.mode.modeBits,4,p),l(g.numChars,g.mode.numCharCountBits(c),p);for(const j of g.getData())p.push(j)}x(p.length==b);const P=y.getNumDataCodewords(c,s)*8;x(p.length<=P),l(0,Math.min(4,P-p.length),p),l(0,(8-p.length%8)%8,p),x(p.length%8==0);for(let g=236;p.length<P;g^=253)l(g,8,p);let N=[];for(;N.length*8<p.length;)N.push(0);return p.forEach((g,j)=>N[j>>>3]|=g<<7-(j&7)),new y(c,s,N,n)}getModule(t,s){return 0<=t&&t<this.size&&0<=s&&s<this.size&&this.modules[s][t]}getModules(){return this.modules}drawFunctionPatterns(){for(let r=0;r<this.size;r++)this.setFunctionModule(6,r,r%2==0),this.setFunctionModule(r,6,r%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const t=this.getAlignmentPatternPositions(),s=t.length;for(let r=0;r<s;r++)for(let i=0;i<s;i++)r==0&&i==0||r==0&&i==s-1||r==s-1&&i==0||this.drawAlignmentPattern(t[r],t[i]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(t){const s=this.errorCorrectionLevel.formatBits<<3|t;let r=s;for(let n=0;n<10;n++)r=r<<1^(r>>>9)*1335;const i=(s<<10|r)^21522;x(i>>>15==0);for(let n=0;n<=5;n++)this.setFunctionModule(8,n,h(i,n));this.setFunctionModule(8,7,h(i,6)),this.setFunctionModule(8,8,h(i,7)),this.setFunctionModule(7,8,h(i,8));for(let n=9;n<15;n++)this.setFunctionModule(14-n,8,h(i,n));for(let n=0;n<8;n++)this.setFunctionModule(this.size-1-n,8,h(i,n));for(let n=8;n<15;n++)this.setFunctionModule(8,this.size-15+n,h(i,n));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let t=this.version;for(let r=0;r<12;r++)t=t<<1^(t>>>11)*7973;const s=this.version<<12|t;x(s>>>18==0);for(let r=0;r<18;r++){const i=h(s,r),n=this.size-11+r%3,m=Math.floor(r/3);this.setFunctionModule(n,m,i),this.setFunctionModule(m,n,i)}}drawFinderPattern(t,s){for(let r=-4;r<=4;r++)for(let i=-4;i<=4;i++){const n=Math.max(Math.abs(i),Math.abs(r)),m=t+i,c=s+r;0<=m&&m<this.size&&0<=c&&c<this.size&&this.setFunctionModule(m,c,n!=2&&n!=4)}}drawAlignmentPattern(t,s){for(let r=-2;r<=2;r++)for(let i=-2;i<=2;i++)this.setFunctionModule(t+i,s+r,Math.max(Math.abs(i),Math.abs(r))!=1)}setFunctionModule(t,s,r){this.modules[s][t]=r,this.isFunction[s][t]=!0}addEccAndInterleave(t){const s=this.version,r=this.errorCorrectionLevel;if(t.length!=y.getNumDataCodewords(s,r))throw new RangeError("Invalid argument");const i=y.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][s],n=y.ECC_CODEWORDS_PER_BLOCK[r.ordinal][s],m=Math.floor(y.getNumRawDataModules(s)/8),c=i-m%i,b=Math.floor(m/i);let p=[];const P=y.reedSolomonComputeDivisor(n);for(let g=0,j=0;g<i;g++){let R=t.slice(j,j+b-n+(g<c?0:1));j+=R.length;const D=y.reedSolomonComputeRemainder(R,P);g<c&&R.push(0),p.push(R.concat(D))}let N=[];for(let g=0;g<p[0].length;g++)p.forEach((j,R)=>{(g!=b-n||R>=c)&&N.push(j[g])});return x(N.length==m),N}drawCodewords(t){if(t.length!=Math.floor(y.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let s=0;for(let r=this.size-1;r>=1;r-=2){r==6&&(r=5);for(let i=0;i<this.size;i++)for(let n=0;n<2;n++){const m=r-n,b=(r+1&2)==0?this.size-1-i:i;!this.isFunction[b][m]&&s<t.length*8&&(this.modules[b][m]=h(t[s>>>3],7-(s&7)),s++)}}x(s==t.length*8)}applyMask(t){if(t<0||t>7)throw new RangeError("Mask value out of range");for(let s=0;s<this.size;s++)for(let r=0;r<this.size;r++){let i;switch(t){case 0:i=(r+s)%2==0;break;case 1:i=s%2==0;break;case 2:i=r%3==0;break;case 3:i=(r+s)%3==0;break;case 4:i=(Math.floor(r/3)+Math.floor(s/2))%2==0;break;case 5:i=r*s%2+r*s%3==0;break;case 6:i=(r*s%2+r*s%3)%2==0;break;case 7:i=((r+s)%2+r*s%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[s][r]&&i&&(this.modules[s][r]=!this.modules[s][r])}}getPenaltyScore(){let t=0;for(let n=0;n<this.size;n++){let m=!1,c=0,b=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[n][p]==m?(c++,c==5?t+=y.PENALTY_N1:c>5&&t++):(this.finderPenaltyAddHistory(c,b),m||(t+=this.finderPenaltyCountPatterns(b)*y.PENALTY_N3),m=this.modules[n][p],c=1);t+=this.finderPenaltyTerminateAndCount(m,c,b)*y.PENALTY_N3}for(let n=0;n<this.size;n++){let m=!1,c=0,b=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[p][n]==m?(c++,c==5?t+=y.PENALTY_N1:c>5&&t++):(this.finderPenaltyAddHistory(c,b),m||(t+=this.finderPenaltyCountPatterns(b)*y.PENALTY_N3),m=this.modules[p][n],c=1);t+=this.finderPenaltyTerminateAndCount(m,c,b)*y.PENALTY_N3}for(let n=0;n<this.size-1;n++)for(let m=0;m<this.size-1;m++){const c=this.modules[n][m];c==this.modules[n][m+1]&&c==this.modules[n+1][m]&&c==this.modules[n+1][m+1]&&(t+=y.PENALTY_N2)}let s=0;for(const n of this.modules)s=n.reduce((m,c)=>m+(c?1:0),s);const r=this.size*this.size,i=Math.ceil(Math.abs(s*20-r*10)/r)-1;return x(0<=i&&i<=9),t+=i*y.PENALTY_N4,x(0<=t&&t<=2568888),t}getAlignmentPatternPositions(){if(this.version==1)return[];{const t=Math.floor(this.version/7)+2,s=this.version==32?26:Math.ceil((this.version*4+4)/(t*2-2))*2;let r=[6];for(let i=this.size-7;r.length<t;i-=s)r.splice(1,0,i);return r}}static getNumRawDataModules(t){if(t<y.MIN_VERSION||t>y.MAX_VERSION)throw new RangeError("Version number out of range");let s=(16*t+128)*t+64;if(t>=2){const r=Math.floor(t/7)+2;s-=(25*r-10)*r-55,t>=7&&(s-=36)}return x(208<=s&&s<=29648),s}static getNumDataCodewords(t,s){return Math.floor(y.getNumRawDataModules(t)/8)-y.ECC_CODEWORDS_PER_BLOCK[s.ordinal][t]*y.NUM_ERROR_CORRECTION_BLOCKS[s.ordinal][t]}static reedSolomonComputeDivisor(t){if(t<1||t>255)throw new RangeError("Degree out of range");let s=[];for(let i=0;i<t-1;i++)s.push(0);s.push(1);let r=1;for(let i=0;i<t;i++){for(let n=0;n<s.length;n++)s[n]=y.reedSolomonMultiply(s[n],r),n+1<s.length&&(s[n]^=s[n+1]);r=y.reedSolomonMultiply(r,2)}return s}static reedSolomonComputeRemainder(t,s){let r=s.map(i=>0);for(const i of t){const n=i^r.shift();r.push(0),s.forEach((m,c)=>r[c]^=y.reedSolomonMultiply(m,n))}return r}static reedSolomonMultiply(t,s){if(t>>>8||s>>>8)throw new RangeError("Byte out of range");let r=0;for(let i=7;i>=0;i--)r=r<<1^(r>>>7)*285,r^=(s>>>i&1)*t;return x(r>>>8==0),r}finderPenaltyCountPatterns(t){const s=t[1];x(s<=this.size*3);const r=s>0&&t[2]==s&&t[3]==s*3&&t[4]==s&&t[5]==s;return(r&&t[0]>=s*4&&t[6]>=s?1:0)+(r&&t[6]>=s*4&&t[0]>=s?1:0)}finderPenaltyTerminateAndCount(t,s,r){return t&&(this.finderPenaltyAddHistory(s,r),s=0),s+=this.size,this.finderPenaltyAddHistory(s,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(t,s){s[0]==0&&(t+=this.size),s.pop(),s.unshift(t)}};o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],d.QrCode=o;function l(w,t,s){if(t<0||t>31||w>>>t)throw new RangeError("Value out of range");for(let r=t-1;r>=0;r--)s.push(w>>>r&1)}function h(w,t){return(w>>>t&1)!=0}function x(w){if(!w)throw new Error("Assertion error")}const u=class E{constructor(t,s,r){if(this.mode=t,this.numChars=s,this.bitData=r,s<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}static makeBytes(t){let s=[];for(const r of t)l(r,8,s);return new E(E.Mode.BYTE,t.length,s)}static makeNumeric(t){if(!E.isNumeric(t))throw new RangeError("String contains non-numeric characters");let s=[];for(let r=0;r<t.length;){const i=Math.min(t.length-r,3);l(parseInt(t.substring(r,r+i),10),i*3+1,s),r+=i}return new E(E.Mode.NUMERIC,t.length,s)}static makeAlphanumeric(t){if(!E.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let s=[],r;for(r=0;r+2<=t.length;r+=2){let i=E.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r))*45;i+=E.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r+1)),l(i,11,s)}return r<t.length&&l(E.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r)),6,s),new E(E.Mode.ALPHANUMERIC,t.length,s)}static makeSegments(t){return t==""?[]:E.isNumeric(t)?[E.makeNumeric(t)]:E.isAlphanumeric(t)?[E.makeAlphanumeric(t)]:[E.makeBytes(E.toUtf8ByteArray(t))]}static makeEci(t){let s=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)l(t,8,s);else if(t<16384)l(2,2,s),l(t,14,s);else if(t<1e6)l(6,3,s),l(t,21,s);else throw new RangeError("ECI assignment value out of range");return new E(E.Mode.ECI,0,s)}static isNumeric(t){return E.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return E.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(t,s){let r=0;for(const i of t){const n=i.mode.numCharCountBits(s);if(i.numChars>=1<<n)return 1/0;r+=4+n+i.bitData.length}return r}static toUtf8ByteArray(t){t=encodeURI(t);let s=[];for(let r=0;r<t.length;r++)t.charAt(r)!="%"?s.push(t.charCodeAt(r)):(s.push(parseInt(t.substring(r+1,r+3),16)),r+=2);return s}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let S=u;d.QrSegment=u})(H||(H={}));(d=>{(o=>{const l=class{constructor(x,u){this.ordinal=x,this.formatBits=u}};l.LOW=new l(0,1),l.MEDIUM=new l(1,0),l.QUARTILE=new l(2,3),l.HIGH=new l(3,2),o.Ecc=l})(d.QrCode||(d.QrCode={}))})(H||(H={}));(d=>{(o=>{const l=class{constructor(x,u){this.modeBits=x,this.numBitsCharCount=u}numCharCountBits(x){return this.numBitsCharCount[Math.floor((x+7)/17)]}};l.NUMERIC=new l(1,[10,12,14]),l.ALPHANUMERIC=new l(2,[9,11,13]),l.BYTE=new l(4,[8,16,16]),l.KANJI=new l(8,[8,10,12]),l.ECI=new l(7,[0,0,0]),o.Mode=l})(d.QrSegment||(d.QrSegment={}))})(H||(H={}));var V=H;var Ue={L:V.QrCode.Ecc.LOW,M:V.QrCode.Ecc.MEDIUM,Q:V.QrCode.Ecc.QUARTILE,H:V.QrCode.Ecc.HIGH},be=128,ye="L",we="#FFFFFF",ve="#000000",Ne=!1,je=1,$e=4,Qe=0,Ge=.1;function Ce(d,o=0){const l=[];return d.forEach(function(h,x){let u=null;h.forEach(function(S,w){if(!S&&u!==null){l.push(`M${u+o} ${x+o}h${w-u}v1H${u+o}z`),u=null;return}if(w===h.length-1){if(!S)return;u===null?l.push(`M${w+o},${x+o} h1v1H${w+o}z`):l.push(`M${u+o},${x+o} h${w+1-u}v1H${u+o}z`);return}S&&u===null&&(u=w)})}),l.join("")}function Ee(d,o){return d.slice().map((l,h)=>h<o.y||h>=o.y+o.h?l:l.map((x,u)=>u<o.x||u>=o.x+o.w?x:!1))}function He(d,o,l,h){if(h==null)return null;const x=d.length+l*2,u=Math.floor(o*Ge),S=x/o,w=(h.width||u)*S,t=(h.height||u)*S,s=h.x==null?d.length/2-w/2:h.x*S,r=h.y==null?d.length/2-t/2:h.y*S,i=h.opacity==null?1:h.opacity;let n=null;if(h.excavate){let c=Math.floor(s),b=Math.floor(r),p=Math.ceil(w+s-c),P=Math.ceil(t+r-b);n={x:c,y:b,w:p,h:P}}const m=h.crossOrigin;return{x:s,y:r,h:t,w,excavation:n,opacity:i,crossOrigin:m}}function qe(d,o){return o!=null?Math.max(Math.floor(o),0):d?$e:Qe}function ke({value:d,level:o,minVersion:l,includeMargin:h,marginSize:x,imageSettings:u,size:S,boostLevel:w}){let t=M.useMemo(()=>{const c=(Array.isArray(d)?d:[d]).reduce((b,p)=>(b.push(...V.QrSegment.makeSegments(p)),b),[]);return V.QrCode.encodeSegments(c,Ue[o],l,void 0,void 0,w)},[d,o,l,w]);const{cells:s,margin:r,numCells:i,calculatedImageSettings:n}=M.useMemo(()=>{let m=t.getModules();const c=qe(h,x),b=m.length+c*2,p=He(m,S,c,u);return{cells:m,margin:c,numCells:b,calculatedImageSettings:p}},[t,S,u,h,x]);return{qrcode:t,margin:r,cells:s,numCells:i,calculatedImageSettings:n}}var Ye=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),Ve=M.forwardRef(function(o,l){const h=o,{value:x,size:u=be,level:S=ye,bgColor:w=we,fgColor:t=ve,includeMargin:s=Ne,minVersion:r=je,boostLevel:i,marginSize:n,imageSettings:m}=h,b=le(h,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:p}=b,P=le(b,["style"]),N=m?.src,g=M.useRef(null),j=M.useRef(null),R=M.useCallback(F=>{g.current=F,typeof l=="function"?l(F):l&&(l.current=F)},[l]),[D,B]=M.useState(!1),{margin:U,cells:q,numCells:X,calculatedImageSettings:_}=ke({value:x,level:S,minVersion:r,boostLevel:i,includeMargin:s,marginSize:n,imageSettings:m,size:u});M.useEffect(()=>{if(g.current!=null){const F=g.current,I=F.getContext("2d");if(!I)return;let K=q;const $=j.current,Q=_!=null&&$!==null&&$.complete&&$.naturalHeight!==0&&$.naturalWidth!==0;Q&&_.excavation!=null&&(K=Ee(q,_.excavation));const Z=window.devicePixelRatio||1;F.height=F.width=u*Z;const G=u/X*Z;I.scale(G,G),I.fillStyle=w,I.fillRect(0,0,X,X),I.fillStyle=t,Ye?I.fill(new Path2D(Ce(K,U))):q.forEach(function(v,z){v.forEach(function(te,A){te&&I.fillRect(A+U,z+U,1,1)})}),_&&(I.globalAlpha=_.opacity),Q&&I.drawImage($,_.x+U,_.y+U,_.w,_.h)}}),M.useEffect(()=>{B(!1)},[N]);const T=ne({height:u,width:u},p);let Y=null;return N!=null&&(Y=M.createElement("img",{src:N,key:N,style:{display:"none"},onLoad:()=>{B(!0)},ref:j,crossOrigin:_?.crossOrigin})),M.createElement(M.Fragment,null,M.createElement("canvas",ne({style:T,height:u,width:u,ref:R,role:"img"},P)),Y)});Ve.displayName="QRCodeCanvas";var Se=M.forwardRef(function(o,l){const h=o,{value:x,size:u=be,level:S=ye,bgColor:w=we,fgColor:t=ve,includeMargin:s=Ne,minVersion:r=je,boostLevel:i,title:n,marginSize:m,imageSettings:c}=h,b=le(h,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:p,cells:P,numCells:N,calculatedImageSettings:g}=ke({value:x,level:S,minVersion:r,boostLevel:i,includeMargin:s,marginSize:m,imageSettings:c,size:u});let j=P,R=null;c!=null&&g!=null&&(g.excavation!=null&&(j=Ee(P,g.excavation)),R=M.createElement("image",{href:c.src,height:g.h,width:g.w,x:g.x+p,y:g.y+p,preserveAspectRatio:"none",opacity:g.opacity,crossOrigin:g.crossOrigin}));const D=Ce(j,p);return M.createElement("svg",ne({height:u,width:u,viewBox:`0 0 ${N} ${N}`,ref:l,role:"img"},b),!!n&&M.createElement("title",null,n),M.createElement("path",{fill:w,d:`M0,0 h${N}v${N}H0z`,shapeRendering:"crispEdges"}),M.createElement("path",{fill:t,d:D,shapeRendering:"crispEdges"}),R)});Se.displayName="QRCodeSVG";const Xe=({courses:d,student:o,totalUnits:l})=>{const h=`Name:${o?.full_name||"N/A"}|Matric:${o?.matric_no||"N/A"}|Session:2024/2025|Units:${l}`;return e.jsxs("div",{className:"bg-white p-8 max-w-[210mm] mx-auto min-h-[297mm] shadow-2xl print:shadow-none print:w-full print:max-w-none",children:[e.jsxs("div",{className:"text-center mb-8 border-b-2 border-gray-800 pb-4",children:[e.jsxs("div",{className:"mb-4 flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full mb-2 flex items-center justify-center text-[10px] font-bold text-gray-500",children:"LOGO"}),e.jsx("img",{src:"/path/to/logo.png",alt:"University Logo",className:"w-20 h-20 object-contain mb-2 hidden",onError:x=>x.target.style.display="none"}),e.jsx("h1",{className:"text-lg font-bold uppercase tracking-wide text-gray-900 font-serif",children:"Bells University of Technology, Ota, Ogun State"}),e.jsx("p",{className:"text-sm font-bold uppercase text-gray-700 font-serif",children:"College of Engineering"}),e.jsx("p",{className:"text-xs font-bold uppercase text-gray-600 font-serif",children:"Department of Computer Engineering"})]}),e.jsxs("div",{className:"flex flex-wrap justify-between items-center text-[10px] sm:text-xs font-bold border-y border-gray-300 py-2 mt-4 font-sans",children:[e.jsxs("div",{className:"w-full sm:w-auto mb-1 sm:mb-0",children:[e.jsx("span",{className:"text-gray-500 mr-1",children:"Name:"})," ",o?.full_name||"OLAYANJU AYOBAMI ABRAHAM"]}),e.jsxs("div",{className:"w-full sm:w-auto mb-1 sm:mb-0",children:[e.jsx("span",{className:"text-gray-500 mr-1",children:"Matric No:"})," ",o?.matric_no||"2024/13522"]}),e.jsxs("div",{className:"w-full sm:w-auto mb-1 sm:mb-0",children:[e.jsx("span",{className:"text-gray-500 mr-1",children:"Level:"})," 200"]}),e.jsxs("div",{className:"w-full sm:w-auto mb-1 sm:mb-0",children:[e.jsx("span",{className:"text-gray-500 mr-1",children:"Session:"})," 2024/2025"]}),e.jsxs("div",{className:"w-full sm:w-auto",children:[e.jsx("span",{className:"text-gray-500 mr-1",children:"Semester:"})," FIRST"]})]})]}),e.jsx("h2",{className:"text-center font-bold text-base uppercase mb-6 font-sans tracking-wider border-b border-gray-200 pb-2 w-fit mx-auto",children:"Course Registration"}),e.jsx("div",{className:"border border-gray-300 rounded-sm overflow-hidden mb-8",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-xs font-bold text-gray-500 uppercase border-r border-gray-300 w-1/4",children:"Course Code"}),e.jsx("th",{className:"px-4 py-2 text-xs font-bold text-gray-500 uppercase border-r border-gray-300 w-1/2",children:"Course Title"}),e.jsx("th",{className:"px-4 py-2 text-xs font-bold text-gray-500 uppercase text-center w-1/4",children:"Units"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[d.length>0?d.map((x,u)=>e.jsxs("tr",{className:"hover:bg-gray-50/50",children:[e.jsx("td",{className:"px-4 py-2.5 text-xs font-bold text-gray-800 border-r border-gray-200 font-mono",children:x.code}),e.jsx("td",{className:"px-4 py-2.5 text-xs font-medium text-gray-700 border-r border-gray-200 uppercase",children:x.name}),e.jsx("td",{className:"px-4 py-2.5 text-xs font-bold text-gray-800 text-center",children:x.credit_unit})]},x.id||u)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"px-4 py-8 text-center text-xs text-gray-400 italic",children:"No courses registered."})}),e.jsxs("tr",{className:"bg-gray-50 border-t-2 border-gray-300",children:[e.jsx("td",{colSpan:"2",className:"px-4 py-3 text-right text-xs font-bold text-gray-900 uppercase",children:"Total Units Registered:"}),e.jsx("td",{className:"px-4 py-3 text-center text-sm font-black text-gray-900",children:l})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-16 pt-8 text-center bg-transparent",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-full h-px bg-black mb-2"}),e.jsx("p",{className:"text-[10px] font-bold uppercase text-gray-900",children:"Student"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-full h-px bg-black mb-2"}),e.jsx("p",{className:"text-[10px] font-bold uppercase text-gray-900",children:"Course Advisor"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-full h-px bg-black mb-2"}),e.jsx("p",{className:"text-[10px] font-bold uppercase text-gray-900",children:"Head of Department"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-full h-px bg-black mb-2"}),e.jsx("p",{className:"text-[10px] font-bold uppercase text-gray-900",children:"College Dean"})]})]}),e.jsx("div",{className:"flex justify-center mt-12",children:e.jsx("div",{className:"p-2 bg-white border border-gray-200 rounded-lg shadow-sm",children:e.jsx(Se,{value:h,size:96})})}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-[8px] text-gray-400 font-mono",children:["Generated via Student Portal • ",new Date().toLocaleDateString()]})})]})},st=()=>{const{profile:d}=Oe(),[o,l]=k.useState([]),[h,x]=k.useState([]),[u,S]=k.useState(null),[w,t]=k.useState({type:"",message:""}),[s,r]=k.useState("registration"),[i,n]=k.useState({name:"",code:"",credit_unit:3,department_id:"",level:"100",semester:"First"}),[m,c]=k.useState(null),[b,p]=k.useState(""),[P,N]=k.useState([]),[g,j]=k.useState(!1),[R,D]=k.useState([]),[B,U]=k.useState([]),[q,X]=k.useState(null),[_,T]=k.useState(!1),[Y,F]=k.useState(""),[I,K]=k.useState(!0),[$,Q]=k.useState(!1),[Z,G]=k.useState(!1),[v,z]=k.useState(null);k.useEffect(()=>{te(),re()},[]),k.useEffect(()=>{d?.role==="student"&&u&&oe()},[d,u]);const te=async()=>{try{const{data:a}=await L.from("departments").select("id, name, code").order("name");x(a||[]);const{data:f}=await L.from("academic_sessions").select("*").eq("is_current",!0).single();S(f)}catch(a){console.error("Error fetching metadata:",a)}},A=(a,f)=>{t({type:a,message:f}),setTimeout(()=>t({type:"",message:""}),5e3)},re=async()=>{try{const{data:a,error:f}=await L.from("courses").select(`
                    *,
                    departments:department_id (name, code)
                `).order("code");if(f)throw f;l(a||[])}catch{A("error","Failed to synchronize curriculum catalog.")}finally{K(!1)}},oe=async()=>{if(u)try{const{data:a}=await L.from("students").select(`
                    *,
                    profiles:user_id (full_name),
                    departments:department_id (name)
                `).eq("user_id",d.id).single();if(a){X(a);const{data:f}=await L.from("student_courses").select(`
                        course_id,
                        courses (*)
                    `).eq("student_id",a.id).eq("session_id",u.id);U(f||[])}}catch{A("error","Identity conflict: Could not pull enrollment data.")}},Me=async a=>{if(a.preventDefault(),!i.department_id)return A("error","Departmental node must be authorized.");T(!0);try{const{data:f,error:C}=await L.from("courses").insert([{...i,code:i.code.toUpperCase()}]).select().single();if(C)throw C.code==="23505"?new Error("Course code already exists in the mainframe."):C;await W("create_course","courses",f.id),A("success","Course protocol successfully provisioned."),Q(!1),n({name:"",code:"",credit_unit:3,department_id:"",level:"100",semester:"First"}),re()}catch(f){A("error",f.message)}finally{T(!1)}},Ae=async a=>{a.preventDefault(),T(!0);try{const{error:f}=await L.from("courses").update({name:v.name,code:v.code.toUpperCase(),credit_unit:v.credit_unit,department_id:v.department_id,level:v.level,semester:v.semester}).eq("id",v.id);if(f)throw f;await W("update_course","courses",v.id),A("success","Registry records synchronized successfully."),G(!1),z(null),re()}catch(f){A("error",f.message)}finally{T(!1)}},Re=async a=>{if(!window.confirm("Are you sure you want to permanently delete this course from the curriculum?"))return;const f=[...o];l(C=>C.filter(O=>O.id!==a));try{const{error:C}=await L.from("courses").delete().eq("id",a);if(C)throw C;await W("delete_course","courses",a),A("success","Security Protocol: Course purged from mainframe.")}catch{l(f),A("error","Authorization failure: Could not delete course.")}},_e=async a=>{if(p(a),a.length<3)return N([]);j(!0);try{const{data:f}=await L.from("students").select(`
                    id,
                    reg_no,
                    department_id,
                    profiles:user_id (full_name)
                `).or(`reg_no.ilike.%${a}%,profiles.full_name.ilike.%${a}%`).limit(5);N(f||[])}finally{j(!1)}},Pe=async a=>{if(u)try{const{data:f}=await L.from("student_courses").select("course_id").eq("student_id",a).eq("session_id",u.id);D(f?.map(C=>C.course_id)||[])}catch{A("error","Critical error: Could not synchronize student record.")}},Le=async a=>{if(!m||!u)return;const f=R.includes(a);try{if(f){const{error:C}=await L.from("student_courses").delete().eq("student_id",m.id).eq("course_id",a).eq("session_id",u.id);if(C)throw C;D(O=>O.filter(Fe=>Fe!==a)),A("success","Registry: Course assigned status revoked.")}else{const{error:C}=await L.from("student_courses").insert([{student_id:m.id,course_id:a,session_id:u.id,semester:o.find(O=>O.id===a)?.semester||"First"}]);if(C)throw C;D(O=>[...O,a]),A("success","Registry: Course provisioned to student.")}await W(f?"admin_unenroll":"admin_enroll","student_courses",a)}catch{A("error","Authorization failure: Request could not be provisioned.")}},Ie=async a=>{if(!u)return A("error","Active academic session not synchronized.");T(!0);try{const{data:f}=await L.from("students").select("id").eq("user_id",d.id).single();if(!f)throw new Error("Student record not found. Please contact administration.");const{error:C}=await L.from("student_courses").insert([{student_id:f.id,course_id:a,session_id:u.id,semester:o.find(O=>O.id===a)?.semester||"First"}]);if(C)throw C.code==="23505"?new Error("Already enrolled in this course for the current session."):C;await W("course_enrollment","student_courses",a),A("success","Authorization success: Enrollment confirmed."),oe()}catch(f){A("error",f.message)}finally{T(!1)}},ce=o.filter(a=>(a.name||"").toLowerCase().includes(Y.toLowerCase())||(a.code||"").toLowerCase().includes(Y.toLowerCase())),de=o.filter(a=>B.some(f=>f.course_id===a.id)),ze=de.reduce((a,f)=>a+f.credit_unit,0);return e.jsxs("div",{className:"space-y-12 animate-slide-up",children:[w.message&&e.jsxs("div",{className:`fixed top-24 right-8 z-[60] p-5 rounded-2xl shadow-2xl border flex items-center gap-4 animate-in slide-in-from-right duration-500 backdrop-blur-xl ${w.type==="error"?"bg-red-50/90 border-red-100 text-red-800":"bg-emerald-50/90 border-emerald-100 text-emerald-800"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${w.type==="error"?"bg-red-100":"bg-emerald-100"}`,children:w.type==="error"?e.jsx(se,{className:"w-5 h-5"}):e.jsx(J,{className:"w-5 h-5 animate-spin"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-50",children:w.type==="error"?"Security Breach":"Protocol Success"}),e.jsx("p",{className:"text-xs font-bold",children:w.message})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 sm:gap-8 pb-6 border-b border-primary-100/50 print:hidden",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-10 sm:w-12 h-1 bg-accent-500 rounded-full"}),e.jsx("p",{className:"text-[9px] sm:text-[10px] font-black text-primary-500 uppercase tracking-[0.4em]",children:"Official Curriculum"})]}),e.jsxs("h1",{className:"text-4xl sm:text-5xl font-black text-primary-950 tracking-tighter italic font-heading",children:["Academic ",e.jsx("span",{className:"text-primary-600",children:"Courses"})]})]}),d?.role==="student"&&e.jsxs("div",{className:"flex gap-4 p-1 bg-primary-100/50 rounded-[1.25rem] w-fit",children:[e.jsxs("button",{onClick:()=>r("registration"),className:`px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] transition-all flex items-center gap-2 ${s==="registration"?"bg-white text-primary-950 shadow-lg":"text-primary-500 hover:text-primary-700"}`,children:[e.jsx(ae,{className:"w-4 h-4"}),"Course Registration"]}),e.jsxs("button",{onClick:()=>r("my_courses"),className:`px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] transition-all flex items-center gap-2 ${s==="my_courses"?"bg-white text-primary-950 shadow-lg":"text-primary-500 hover:text-primary-700"}`,children:[e.jsx(me,{className:"w-4 h-4"}),"My Registered Courses"]})]}),(d?.role==="admin"||d?.role==="staff")&&e.jsxs("div",{className:"flex gap-4 p-1 bg-primary-100/50 rounded-[1.25rem] w-fit",children:[e.jsxs("button",{onClick:()=>r("registration"),className:`px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] transition-all flex items-center gap-2 ${s==="registration"?"bg-white text-primary-950 shadow-lg":"text-primary-500 hover:text-primary-700"}`,children:[e.jsx(ae,{className:"w-4 h-4"}),"Curriculum Catalog"]}),e.jsxs("button",{onClick:()=>r("admin_sync"),className:`px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] transition-all flex items-center gap-2 ${s==="admin_sync"?"bg-white text-primary-950 shadow-lg":"text-primary-500 hover:text-primary-700"}`,children:[e.jsx(me,{className:"w-4 h-4"}),"Student Enrollment Sync"]})]}),d?.role==="admin"&&e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>Q(!0),className:"btn-primary group w-full sm:w-auto",children:[e.jsx(ue,{className:"w-4 h-4 group-hover:rotate-90 transition-transform duration-500"}),"Provision New Course"]})})]}),(d?.role==="admin"||d?.role==="staff")&&s==="admin_sync"&&e.jsxs("div",{className:"space-y-8 animate-slide-up",children:[e.jsxs("div",{className:"academic-card p-8 bg-white shadow-2xl shadow-primary-950/5 border border-primary-50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-[0.02] pointer-events-none",children:e.jsx(ie,{className:"w-40 h-40 text-primary-900"})}),e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-primary-950 uppercase tracking-tighter italic font-heading mb-2",children:"Student Identity Search"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-6 leading-loose",children:"Search by Matriculation Number or Full Name to provision academic pathways."}),e.jsxs("div",{className:"relative max-w-2xl",children:[e.jsx(ie,{className:"absolute left-6 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-300"}),e.jsx("input",{type:"text",placeholder:"Enter Student Identifier...",className:"w-full pl-16 pr-8 py-5 bg-primary-50/50 border border-primary-100 rounded-[1.5rem] focus:outline-none focus:ring-2 focus:ring-primary-500/20 font-bold placeholder:text-gray-300 text-sm",value:b,onChange:a=>_e(a.target.value)}),g&&e.jsx(J,{className:"absolute right-6 top-1/2 -translate-y-1/2 h-5 w-5 text-primary-500 animate-spin"})]})]}),P.length>0&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-8 animate-in slide-in-from-top duration-500",children:P.map(a=>e.jsxs("button",{onClick:()=>{c(a),Pe(a.id),N([]),p("")},className:"flex items-center gap-4 p-4 bg-white border border-primary-100 rounded-2xl hover:bg-primary-50 transition-all text-left group shadow-sm",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary-900 flex items-center justify-center text-white text-xs font-black",children:a.reg_no.slice(-2)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-primary-950 group-hover:text-primary-600 transition-colors uppercase italic",children:a.profiles?.full_name}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a.reg_no})]})]},a.id))})]})]}),m&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-12 animate-slide-up",children:[e.jsx("div",{className:"lg:col-span-1 space-y-6",children:e.jsxs("div",{className:"academic-card p-8 bg-primary-950 text-white shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none",children:e.jsx(he,{className:"w-32 h-32"})}),e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-primary-400 mb-6",children:"Active Target Identity"}),e.jsx("h3",{className:"text-2xl font-black italic tracking-tighter uppercase font-heading mb-2",children:m.profiles?.full_name}),e.jsx("p",{className:"text-xl font-bold text-primary-200 mb-8",children:m.reg_no}),e.jsxs("div",{className:"pt-6 border-t border-white/10 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase tracking-widest",children:[e.jsx("span",{className:"text-primary-400",children:"Enrollment Count"}),e.jsxs("span",{className:"px-3 py-1 bg-white/10 rounded-lg",children:[R.length," Courses"]})]}),e.jsx("button",{onClick:()=>c(null),className:"w-full py-4 bg-white/5 hover:bg-white/10 text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border border-white/10",children:"Reset Context"})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx("h3",{className:"text-xl font-black text-primary-950 uppercase tracking-tighter italic font-heading",children:"Curriculum Authorization Matrix"}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(a=>e.jsxs("div",{className:"academic-card p-6 flex items-center justify-between bg-white border border-primary-50 hover:shadow-xl transition-all group",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center font-black text-xs border ${R.includes(a.id)?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-gray-50 text-gray-400 border-gray-100"}`,children:a.code.split(" ")[0]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-primary-950 uppercase italic tracking-tight",children:a.name}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[a.code," • ",a.credit_unit," Units"]})]})]}),e.jsx("button",{onClick:()=>Le(a.id),className:`px-8 py-3 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${R.includes(a.id)?"bg-red-50 text-red-600 hover:bg-red-100 border border-red-100":"bg-primary-900 text-white hover:bg-primary-950 shadow-lg shadow-primary-900/20"}`,children:R.includes(a.id)?"Revoke Access":"Authorize Entry"})]},a.id))})]})]})]}),d?.role==="student"&&s==="my_courses"&&e.jsxs("div",{className:"space-y-8 animate-slide-up",children:[e.jsx("div",{className:"flex justify-end mb-4 print:hidden",children:e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-6 py-3 bg-primary-950 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-primary-900 transition-all shadow-xl",children:[e.jsx(De,{className:"w-4 h-4"}),"Print Form"]})}),e.jsx("div",{className:"print:m-0 print:p-0",children:e.jsx(Xe,{courses:de,student:{full_name:q?.profiles?.full_name,matric_no:q?.reg_no},totalUnits:ze})})]}),(s==="registration"||!d)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"academic-card p-2 sm:p-4 flex flex-col md:flex-row gap-4 items-center bg-white shadow-2xl shadow-primary-950/5",children:e.jsxs("div",{className:"relative flex-1 group w-full",children:[e.jsx(ie,{className:"absolute left-5 sm:left-6 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-300 transition-colors group-focus-within:text-primary-600"}),e.jsx("input",{type:"text",placeholder:"Search the curriculum by title or course identifier...",className:"w-full pl-14 sm:pl-16 pr-6 sm:pr-8 py-4 sm:py-5 bg-transparent rounded-2xl focus:outline-none font-medium placeholder:text-gray-300 text-sm",value:Y,onChange:a=>F(a.target.value)})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:I?[1,2,3,4,5,6].map(a=>e.jsx("div",{className:"h-72 bg-white rounded-[2.5rem] animate-pulse border border-primary-50 shadow-sm"},a)):ce.length>0?ce.map(a=>e.jsxs("div",{className:"academic-card group overflow-hidden flex flex-col bg-white hover:bg-gradient-to-br hover:from-white hover:to-primary-50/30",children:[e.jsxs("div",{className:"p-8 sm:p-10 pb-5 sm:pb-6 relative",children:[e.jsx("div",{className:"absolute top-0 right-0 p-6 sm:p-8 opacity-[0.03] pointer-events-none group-hover:scale-110 transition-transform duration-700",children:e.jsx(ae,{className:"w-24 h-24 sm:w-32 sm:h-32 text-primary-950"})}),e.jsxs("div",{className:"flex justify-between items-start mb-6 sm:mb-8 relative z-10",children:[e.jsx("div",{className:"space-y-1",children:e.jsx("span",{className:"px-4 sm:px-5 py-1.5 sm:py-2 bg-primary-950 text-white text-[8px] sm:text-[9px] font-black uppercase tracking-[0.3em] rounded-lg sm:rounded-xl shadow-xl shadow-primary-900/20 block w-fit",children:a.code})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[9px] sm:text-[10px] font-black text-primary-400 uppercase tracking-widest mb-1",children:"Weight"}),e.jsxs("span",{className:"text-xs sm:text-sm font-black text-primary-950 bg-primary-50 px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl border border-primary-100 shadow-sm",children:[a.credit_unit||3," Units"]})]})]}),e.jsx("h3",{className:"text-xl sm:text-2xl font-black text-primary-950 mb-3 sm:mb-4 group-hover:text-primary-600 transition-colors uppercase tracking-tighter leading-tight font-heading min-h-[3.5rem] sm:min-h-[4rem]",children:a.name}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("span",{className:"px-3 py-1 bg-primary-50 text-[9px] font-black uppercase tracking-widest text-primary-600 rounded-lg border border-primary-100",children:a.departments?.name||"GEN-ED"}),e.jsxs("span",{className:"px-3 py-1 bg-indigo-50 text-[9px] font-black uppercase tracking-widest text-indigo-600 rounded-lg border border-indigo-100",children:[a.level," LVL"]}),e.jsxs("span",{className:"px-3 py-1 bg-amber-50 text-[9px] font-black uppercase tracking-widest text-amber-600 rounded-lg border border-amber-100",children:[a.semester," SEM"]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-emerald-50 flex items-center justify-center",children:e.jsx(pe,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-emerald-500"})}),e.jsx("p",{className:"text-[9px] sm:text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Registry Authenticated"})]})]}),e.jsx("div",{className:"mt-auto p-8 sm:p-10 pt-3 sm:pt-4 relative z-10",children:d?.role==="student"?e.jsx("button",{onClick:()=>Ie(a.id),disabled:_||B.some(f=>f.course_id===a.id),className:`w-full py-4 sm:py-5 rounded-xl sm:rounded-[1.5rem] font-black text-[9px] sm:text-[10px] uppercase tracking-[0.2em] transition-all transform active:scale-95 shadow-2xl relative overflow-hidden group/btn ${B.some(f=>f.course_id===a.id)?"bg-primary-50 text-primary-700 border border-primary-100 cursor-not-allowed shadow-none":"bg-primary-900 text-white hover:bg-primary-950 hover:-translate-y-1 shadow-primary-900/40"}`,children:e.jsx("span",{className:"relative z-10 flex items-center justify-center gap-2 sm:gap-3",children:B.some(f=>f.course_id===a.id)?e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"w-4 h-4"})," Successfully Enrolled"]}):e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"w-4 h-4 group-hover/btn:rotate-90 transition-transform duration-500"}),"Authorize Enrollment"]})})}):e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>{z({...a}),G(!0)},className:"flex-1 py-4 bg-primary-50 text-primary-950 rounded-[1.25rem] font-black text-[9px] uppercase tracking-[0.2em] hover:bg-primary-100 transition-all border border-primary-100/50 shadow-sm active:scale-95 hover:-translate-y-0.5",children:"Modify"}),d?.role==="admin"&&e.jsx("button",{onClick:()=>Re(a.id),className:"p-4 bg-red-50 text-red-500 rounded-[1.25rem] border border-red-100 hover:bg-red-100/50 transition-all active:scale-95 shadow-sm hover:-translate-y-0.5",title:"Revoke Course",children:e.jsx(Te,{className:"w-5 h-5"})})]})})]},a.id)):e.jsxs("div",{className:"col-span-full py-40 text-center academic-card bg-transparent shadow-none border-dashed border-2 border-primary-100",children:[e.jsx("div",{className:"bg-primary-50 w-32 h-32 rounded-[2.5rem] flex items-center justify-center mx-auto mb-10 border border-primary-100 shadow-inner",children:e.jsx(he,{className:"w-16 h-16 text-primary-200"})}),e.jsx("h3",{className:"text-primary-950 font-black text-3xl mb-4 tracking-tighter italic font-heading uppercase",children:"Curriculum Empty"}),e.jsx("p",{className:"text-gray-400 max-w-sm mx-auto font-bold uppercase tracking-widest text-[10px] leading-loose",children:"The academic catalog is currently waiting for official protocol entries from the registry department."})]})}),$&&e.jsx("div",{className:"fixed inset-0 bg-primary-950/40 backdrop-blur-xl z-50 flex items-center justify-center p-6 animate-in fade-in duration-500",children:e.jsxs("div",{className:"bg-white rounded-[2rem] sm:rounded-[2.5rem] shadow-2xl w-full max-w-lg overflow-hidden border border-white/20 animate-in zoom-in duration-500",children:[e.jsxs("div",{className:"p-8 sm:p-10 border-b border-primary-50 flex items-center justify-between bg-gradient-to-br from-primary-900 to-primary-950 text-white relative",children:[e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-gradient-to-r from-accent-500 to-transparent"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-black tracking-tighter uppercase italic font-heading",children:"Provision Course"}),e.jsx("p",{className:"text-[9px] sm:text-[10px] font-black text-primary-400 uppercase tracking-[0.3em] mt-1 lg:mt-1.5",children:"Curriculum Architecture"})]}),e.jsx("button",{onClick:()=>Q(!1),className:"text-white/50 hover:text-white transition-colors bg-white/5 p-2 sm:p-3 rounded-xl sm:rounded-2xl relative z-10",children:e.jsx(se,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e.jsxs("form",{onSubmit:Me,className:"p-8 sm:p-10 space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-primary-400 uppercase tracking-[0.3em] mb-3 ml-1",children:"Course Identity Code"}),e.jsx("input",{required:!0,className:"input-field uppercase font-mono tracking-widest shadow-inner !bg-gray-50/50",placeholder:"e.g. ENG 201",value:i.code,onChange:a=>n({...i,code:a.target.value.toUpperCase()})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-primary-400 uppercase tracking-[0.3em] mb-3 ml-1",children:"Departmental Node"}),e.jsxs("select",{required:!0,className:"input-field appearance-none bg-gray-50/50 shadow-inner",value:i.department_id,onChange:a=>n({...i,department_id:a.target.value}),children:[e.jsx("option",{value:"",children:"Select Dept"}),h.map(a=>e.jsxs("option",{value:a.id,children:[a.name," (",a.code,")"]},a.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-primary-400 uppercase tracking-[0.3em] mb-3 ml-1",children:"Official Course Title"}),e.jsx("input",{required:!0,className:"input-field shadow-inner !bg-gray-50/50",placeholder:"e.g. Thermodynamics",value:i.name,onChange:a=>n({...i,name:a.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-primary-400 uppercase tracking-[0.3em] mb-3 ml-1",children:"Academic Level"}),e.jsxs("select",{className:"input-field appearance-none bg-gray-50/50 shadow-inner",value:i.level,onChange:a=>n({...i,level:a.target.value}),children:[e.jsx("option",{value:"100",children:"100 Level"}),e.jsx("option",{value:"200",children:"200 Level"}),e.jsx("option",{value:"300",children:"300 Level"}),e.jsx("option",{value:"400",children:"400 Level"}),e.jsx("option",{value:"500",children:"500 Level"}),e.jsx("option",{value:"PG",children:"Postgraduate"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-primary-400 uppercase tracking-[0.3em] mb-3 ml-1",children:"Semester Cycle"}),e.jsxs("select",{className:"input-field appearance-none bg-gray-50/50 shadow-inner",value:i.semester,onChange:a=>n({...i,semester:a.target.value}),children:[e.jsx("option",{value:"First",children:"First Semester"}),e.jsx("option",{value:"Second",children:"Second Semester"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-primary-400 uppercase tracking-[0.3em] mb-3 ml-1",children:"Credit Weight Protocol"}),e.jsx("div",{className:"grid grid-cols-6 gap-3",children:[1,2,3,4,5,6].map(a=>e.jsx("button",{type:"button",onClick:()=>n({...i,credit_unit:a}),className:`py-4 rounded-2xl font-black text-sm transition-all border ${i.credit_unit===a?"bg-primary-950 text-white border-primary-950 shadow-xl shadow-primary-950/20":"bg-white text-primary-400 border-primary-50 hover:border-primary-200"}`,children:a},a))})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>Q(!1),className:"flex-1 px-8 py-4 border border-gray-100 rounded-2xl text-[10px] font-black uppercase tracking-widest text-gray-400 hover:bg-gray-50 transition-all",children:"Abort"}),e.jsx("button",{type:"submit",disabled:_,className:"btn-primary flex-1",children:_?e.jsx(J,{className:"w-5 h-5 animate-spin"}):"Authorize Course"})]})]})]})}),Z&&v&&e.jsx("div",{className:"fixed inset-0 bg-primary-950/40 backdrop-blur-xl z-50 flex items-center justify-center p-6 animate-in fade-in duration-500",children:e.jsxs("div",{className:"bg-white rounded-[2rem] sm:rounded-[2.5rem] shadow-2xl w-full max-w-lg overflow-hidden border border-white/20 animate-in zoom-in duration-500",children:[e.jsxs("div",{className:"p-8 sm:p-10 border-b border-primary-50 flex items-center justify-between bg-primary-950 text-white relative",children:[e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-gradient-to-r from-accent-500 to-transparent"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-black tracking-tighter uppercase italic font-heading",children:"Protocol Modification"}),e.jsx("p",{className:"text-[9px] sm:text-[10px] font-black text-primary-400 uppercase tracking-[0.3em] mt-1 lg:mt-1.5",children:"Official Records"})]}),e.jsx("button",{onClick:()=>G(!1),className:"text-white/50 hover:text-white transition-colors bg-white/5 p-2 sm:p-3 rounded-xl sm:rounded-2xl relative z-10",children:e.jsx(se,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e.jsxs("form",{onSubmit:Ae,className:"p-8 sm:p-10 space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-primary-400 uppercase tracking-[0.3em] mb-3 ml-1",children:"Course Identity Code"}),e.jsx("input",{required:!0,className:"input-field uppercase font-mono tracking-widest shadow-inner !bg-gray-50/50",value:v.code,onChange:a=>z({...v,code:a.target.value.toUpperCase()})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-primary-400 uppercase tracking-[0.3em] mb-3 ml-1",children:"Departmental Node"}),e.jsxs("select",{required:!0,className:"input-field appearance-none bg-gray-50/50 shadow-inner",value:v.department_id,onChange:a=>z({...v,department_id:a.target.value}),children:[e.jsx("option",{value:"",children:"Select Dept"}),h.map(a=>e.jsxs("option",{value:a.id,children:[a.name," (",a.code,")"]},a.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-primary-400 uppercase tracking-[0.3em] mb-3 ml-1",children:"Official Course Title"}),e.jsx("input",{required:!0,className:"input-field shadow-inner !bg-gray-50/50",value:v.name,onChange:a=>z({...v,name:a.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-primary-400 uppercase tracking-[0.3em] mb-3 ml-1",children:"Academic Level"}),e.jsxs("select",{className:"input-field appearance-none bg-gray-50/50 shadow-inner",value:v.level,onChange:a=>z({...v,level:a.target.value}),children:[e.jsx("option",{value:"100",children:"100 Level"}),e.jsx("option",{value:"200",children:"200 Level"}),e.jsx("option",{value:"300",children:"300 Level"}),e.jsx("option",{value:"400",children:"400 Level"}),e.jsx("option",{value:"500",children:"500 Level"}),e.jsx("option",{value:"PG",children:"Postgraduate"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-primary-400 uppercase tracking-[0.3em] mb-3 ml-1",children:"Semester Cycle"}),e.jsxs("select",{className:"input-field appearance-none bg-gray-50/50 shadow-inner",value:v.semester,onChange:a=>z({...v,semester:a.target.value}),children:[e.jsx("option",{value:"First",children:"First Semester"}),e.jsx("option",{value:"Second",children:"Second Semester"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-primary-400 uppercase tracking-[0.3em] mb-3 ml-1",children:"Credit Weight Protocol"}),e.jsx("div",{className:"grid grid-cols-6 gap-3",children:[1,2,3,4,5,6].map(a=>e.jsx("button",{type:"button",onClick:()=>z({...v,credit_unit:a}),className:`py-4 rounded-2xl font-black text-sm transition-all border ${v.credit_unit===a?"bg-primary-950 text-white border-primary-950 shadow-xl shadow-primary-950/20":"bg-white text-primary-400 border-primary-50 hover:border-primary-200"}`,children:a},a))})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>G(!1),className:"flex-1 px-8 py-4 border border-gray-100 rounded-2xl text-[10px] font-black uppercase tracking-widest text-gray-400 hover:bg-gray-50 transition-all",children:"Discard"}),e.jsx("button",{type:"submit",disabled:_,className:"btn-primary flex-1",children:_?e.jsx(J,{className:"w-5 h-5 animate-spin"}):"Commit Protocol"})]})]})]})})]})]})};export{st as default};
